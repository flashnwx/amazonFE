{"ast":null,"code":"import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, provide, computed, nextTick, defineComponent } from \"vue\";\nimport { extend, truthProp, unknownProp, numericProp, createNamespace } from \"../utils/index.mjs\";\nimport { TABS_KEY } from \"../tabs/Tabs.mjs\";\nimport { doubleRaf, useParent } from \"@vant/use\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { routeProps } from \"../composables/use-route.mjs\";\nimport { TAB_STATUS_KEY } from \"../composables/use-tab-status.mjs\";\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\nconst [name, bem] = createNamespace(\"tab\");\nconst tabProps = extend({}, routeProps, {\n  dot: Boolean,\n  name: numericProp,\n  badge: numericProp,\n  title: String,\n  disabled: Boolean,\n  titleClass: unknownProp,\n  titleStyle: [String, Object],\n  showZeroBadge: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: tabProps,\n\n  setup(props, {\n    slots\n  }) {\n    const id = useId();\n    const inited = ref(false);\n    const {\n      parent,\n      index\n    } = useParent(TABS_KEY);\n\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <Tab> must be a child component of <Tabs>.\");\n      }\n\n      return;\n    }\n\n    const getName = () => {\n      var _a;\n\n      return (_a = props.name) != null ? _a : index.value;\n    };\n\n    const init = () => {\n      inited.value = true;\n\n      if (parent.props.lazyRender) {\n        nextTick(() => {\n          parent.onRendered(getName(), props.title);\n        });\n      }\n    };\n\n    const active = computed(() => {\n      const isActive = getName() === parent.currentName.value;\n\n      if (isActive && !inited.value) {\n        init();\n      }\n\n      return isActive;\n    });\n    const hasInactiveClass = ref(!active.value);\n    watch(active, val => {\n      if (val) {\n        hasInactiveClass.value = false;\n      } else {\n        doubleRaf(() => {\n          hasInactiveClass.value = true;\n        });\n      }\n    });\n    watch(() => props.title, () => {\n      parent.setLine();\n      parent.scrollIntoView();\n    });\n    provide(TAB_STATUS_KEY, active);\n    return () => {\n      var _a;\n\n      const label = `${parent.id}-${index.value}`;\n      const {\n        animated,\n        swipeable,\n        scrollspy,\n        lazyRender\n      } = parent.props;\n\n      if (!slots.default && !animated) {\n        return;\n      }\n\n      const show = scrollspy || active.value;\n\n      if (animated || swipeable) {\n        return _createVNode(SwipeItem, {\n          \"id\": id,\n          \"role\": \"tabpanel\",\n          \"class\": bem(\"panel-wrapper\", {\n            inactive: hasInactiveClass.value\n          }),\n          \"tabindex\": active.value ? 0 : -1,\n          \"aria-hidden\": !active.value,\n          \"aria-labelledby\": label\n        }, {\n          default: () => {\n            var _a2;\n\n            return [_createVNode(\"div\", {\n              \"class\": bem(\"panel\")\n            }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])];\n          }\n        });\n      }\n\n      const shouldRender = inited.value || scrollspy || !lazyRender;\n      const Content = shouldRender ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null;\n      useExpose({\n        id\n      });\n      return _withDirectives(_createVNode(\"div\", {\n        \"id\": id,\n        \"role\": \"tabpanel\",\n        \"class\": bem(\"panel\"),\n        \"tabindex\": show ? 0 : -1,\n        \"aria-labelledby\": label\n      }, [Content]), [[_vShow, show]]);\n    };\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","ref","watch","provide","computed","nextTick","defineComponent","extend","truthProp","unknownProp","numericProp","createNamespace","TABS_KEY","doubleRaf","useParent","useId","useExpose","routeProps","TAB_STATUS_KEY","SwipeItem","name","bem","tabProps","dot","Boolean","badge","title","String","disabled","titleClass","titleStyle","Object","showZeroBadge","stdin_default","props","setup","slots","id","inited","parent","index","process","env","NODE_ENV","console","error","getName","_a","value","init","lazyRender","onRendered","active","isActive","currentName","hasInactiveClass","val","setLine","scrollIntoView","label","animated","swipeable","scrollspy","default","show","inactive","_a2","call","shouldRender","Content"],"sources":["/Users/niweixing/Downloads/web-code/node_modules/vant/es/tab/Tab.mjs"],"sourcesContent":["import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, provide, computed, nextTick, defineComponent } from \"vue\";\nimport { extend, truthProp, unknownProp, numericProp, createNamespace } from \"../utils/index.mjs\";\nimport { TABS_KEY } from \"../tabs/Tabs.mjs\";\nimport { doubleRaf, useParent } from \"@vant/use\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { routeProps } from \"../composables/use-route.mjs\";\nimport { TAB_STATUS_KEY } from \"../composables/use-tab-status.mjs\";\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\nconst [name, bem] = createNamespace(\"tab\");\nconst tabProps = extend({}, routeProps, {\n  dot: Boolean,\n  name: numericProp,\n  badge: numericProp,\n  title: String,\n  disabled: Boolean,\n  titleClass: unknownProp,\n  titleStyle: [String, Object],\n  showZeroBadge: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: tabProps,\n  setup(props, {\n    slots\n  }) {\n    const id = useId();\n    const inited = ref(false);\n    const {\n      parent,\n      index\n    } = useParent(TABS_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <Tab> must be a child component of <Tabs>.\");\n      }\n      return;\n    }\n    const getName = () => {\n      var _a;\n      return (_a = props.name) != null ? _a : index.value;\n    };\n    const init = () => {\n      inited.value = true;\n      if (parent.props.lazyRender) {\n        nextTick(() => {\n          parent.onRendered(getName(), props.title);\n        });\n      }\n    };\n    const active = computed(() => {\n      const isActive = getName() === parent.currentName.value;\n      if (isActive && !inited.value) {\n        init();\n      }\n      return isActive;\n    });\n    const hasInactiveClass = ref(!active.value);\n    watch(active, (val) => {\n      if (val) {\n        hasInactiveClass.value = false;\n      } else {\n        doubleRaf(() => {\n          hasInactiveClass.value = true;\n        });\n      }\n    });\n    watch(() => props.title, () => {\n      parent.setLine();\n      parent.scrollIntoView();\n    });\n    provide(TAB_STATUS_KEY, active);\n    return () => {\n      var _a;\n      const label = `${parent.id}-${index.value}`;\n      const {\n        animated,\n        swipeable,\n        scrollspy,\n        lazyRender\n      } = parent.props;\n      if (!slots.default && !animated) {\n        return;\n      }\n      const show = scrollspy || active.value;\n      if (animated || swipeable) {\n        return _createVNode(SwipeItem, {\n          \"id\": id,\n          \"role\": \"tabpanel\",\n          \"class\": bem(\"panel-wrapper\", {\n            inactive: hasInactiveClass.value\n          }),\n          \"tabindex\": active.value ? 0 : -1,\n          \"aria-hidden\": !active.value,\n          \"aria-labelledby\": label\n        }, {\n          default: () => {\n            var _a2;\n            return [_createVNode(\"div\", {\n              \"class\": bem(\"panel\")\n            }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])];\n          }\n        });\n      }\n      const shouldRender = inited.value || scrollspy || !lazyRender;\n      const Content = shouldRender ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null;\n      useExpose({\n        id\n      });\n      return _withDirectives(_createVNode(\"div\", {\n        \"id\": id,\n        \"role\": \"tabpanel\",\n        \"class\": bem(\"panel\"),\n        \"tabindex\": show ? 0 : -1,\n        \"aria-labelledby\": label\n      }, [Content]), [[_vShow, show]]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"AAAA,SAASA,cAAc,IAAIC,eAA3B,EAA4CC,KAAK,IAAIC,MAArD,EAA6DC,WAAW,IAAIC,YAA5E,QAAgG,KAAhG;AACA,SAASC,GAAT,EAAcC,KAAd,EAAqBC,OAArB,EAA8BC,QAA9B,EAAwCC,QAAxC,EAAkDC,eAAlD,QAAyE,KAAzE;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,WAA5B,EAAyCC,WAAzC,EAAsDC,eAAtD,QAA6E,oBAA7E;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,WAArC;AACA,SAASC,KAAT,QAAsB,2BAAtB;AACA,SAASC,SAAT,QAA0B,+BAA1B;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,cAAT,QAA+B,mCAA/B;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,MAAM,CAACC,IAAD,EAAOC,GAAP,IAAcV,eAAe,CAAC,KAAD,CAAnC;AACA,MAAMW,QAAQ,GAAGf,MAAM,CAAC,EAAD,EAAKU,UAAL,EAAiB;EACtCM,GAAG,EAAEC,OADiC;EAEtCJ,IAAI,EAAEV,WAFgC;EAGtCe,KAAK,EAAEf,WAH+B;EAItCgB,KAAK,EAAEC,MAJ+B;EAKtCC,QAAQ,EAAEJ,OAL4B;EAMtCK,UAAU,EAAEpB,WAN0B;EAOtCqB,UAAU,EAAE,CAACH,MAAD,EAASI,MAAT,CAP0B;EAQtCC,aAAa,EAAExB;AARuB,CAAjB,CAAvB;AAUA,IAAIyB,aAAa,GAAG3B,eAAe,CAAC;EAClCc,IADkC;EAElCc,KAAK,EAAEZ,QAF2B;;EAGlCa,KAAK,CAACD,KAAD,EAAQ;IACXE;EADW,CAAR,EAEF;IACD,MAAMC,EAAE,GAAGtB,KAAK,EAAhB;IACA,MAAMuB,MAAM,GAAGrC,GAAG,CAAC,KAAD,CAAlB;IACA,MAAM;MACJsC,MADI;MAEJC;IAFI,IAGF1B,SAAS,CAACF,QAAD,CAHb;;IAIA,IAAI,CAAC2B,MAAL,EAAa;MACX,IAAIE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;QACzCC,OAAO,CAACC,KAAR,CAAc,mDAAd;MACD;;MACD;IACD;;IACD,MAAMC,OAAO,GAAG,MAAM;MACpB,IAAIC,EAAJ;;MACA,OAAO,CAACA,EAAE,GAAGb,KAAK,CAACd,IAAZ,KAAqB,IAArB,GAA4B2B,EAA5B,GAAiCP,KAAK,CAACQ,KAA9C;IACD,CAHD;;IAIA,MAAMC,IAAI,GAAG,MAAM;MACjBX,MAAM,CAACU,KAAP,GAAe,IAAf;;MACA,IAAIT,MAAM,CAACL,KAAP,CAAagB,UAAjB,EAA6B;QAC3B7C,QAAQ,CAAC,MAAM;UACbkC,MAAM,CAACY,UAAP,CAAkBL,OAAO,EAAzB,EAA6BZ,KAAK,CAACR,KAAnC;QACD,CAFO,CAAR;MAGD;IACF,CAPD;;IAQA,MAAM0B,MAAM,GAAGhD,QAAQ,CAAC,MAAM;MAC5B,MAAMiD,QAAQ,GAAGP,OAAO,OAAOP,MAAM,CAACe,WAAP,CAAmBN,KAAlD;;MACA,IAAIK,QAAQ,IAAI,CAACf,MAAM,CAACU,KAAxB,EAA+B;QAC7BC,IAAI;MACL;;MACD,OAAOI,QAAP;IACD,CANsB,CAAvB;IAOA,MAAME,gBAAgB,GAAGtD,GAAG,CAAC,CAACmD,MAAM,CAACJ,KAAT,CAA5B;IACA9C,KAAK,CAACkD,MAAD,EAAUI,GAAD,IAAS;MACrB,IAAIA,GAAJ,EAAS;QACPD,gBAAgB,CAACP,KAAjB,GAAyB,KAAzB;MACD,CAFD,MAEO;QACLnC,SAAS,CAAC,MAAM;UACd0C,gBAAgB,CAACP,KAAjB,GAAyB,IAAzB;QACD,CAFQ,CAAT;MAGD;IACF,CARI,CAAL;IASA9C,KAAK,CAAC,MAAMgC,KAAK,CAACR,KAAb,EAAoB,MAAM;MAC7Ba,MAAM,CAACkB,OAAP;MACAlB,MAAM,CAACmB,cAAP;IACD,CAHI,CAAL;IAIAvD,OAAO,CAACe,cAAD,EAAiBkC,MAAjB,CAAP;IACA,OAAO,MAAM;MACX,IAAIL,EAAJ;;MACA,MAAMY,KAAK,GAAI,GAAEpB,MAAM,CAACF,EAAG,IAAGG,KAAK,CAACQ,KAAM,EAA1C;MACA,MAAM;QACJY,QADI;QAEJC,SAFI;QAGJC,SAHI;QAIJZ;MAJI,IAKFX,MAAM,CAACL,KALX;;MAMA,IAAI,CAACE,KAAK,CAAC2B,OAAP,IAAkB,CAACH,QAAvB,EAAiC;QAC/B;MACD;;MACD,MAAMI,IAAI,GAAGF,SAAS,IAAIV,MAAM,CAACJ,KAAjC;;MACA,IAAIY,QAAQ,IAAIC,SAAhB,EAA2B;QACzB,OAAO7D,YAAY,CAACmB,SAAD,EAAY;UAC7B,MAAMkB,EADuB;UAE7B,QAAQ,UAFqB;UAG7B,SAAShB,GAAG,CAAC,eAAD,EAAkB;YAC5B4C,QAAQ,EAAEV,gBAAgB,CAACP;UADC,CAAlB,CAHiB;UAM7B,YAAYI,MAAM,CAACJ,KAAP,GAAe,CAAf,GAAmB,CAAC,CANH;UAO7B,eAAe,CAACI,MAAM,CAACJ,KAPM;UAQ7B,mBAAmBW;QARU,CAAZ,EAShB;UACDI,OAAO,EAAE,MAAM;YACb,IAAIG,GAAJ;;YACA,OAAO,CAAClE,YAAY,CAAC,KAAD,EAAQ;cAC1B,SAASqB,GAAG,CAAC,OAAD;YADc,CAAR,EAEjB,CAAC,CAAC6C,GAAG,GAAG9B,KAAK,CAAC2B,OAAb,KAAyB,IAAzB,GAAgC,KAAK,CAArC,GAAyCG,GAAG,CAACC,IAAJ,CAAS/B,KAAT,CAA1C,CAFiB,CAAb,CAAP;UAGD;QANA,CATgB,CAAnB;MAiBD;;MACD,MAAMgC,YAAY,GAAG9B,MAAM,CAACU,KAAP,IAAgBc,SAAhB,IAA6B,CAACZ,UAAnD;MACA,MAAMmB,OAAO,GAAGD,YAAY,GAAG,CAACrB,EAAE,GAAGX,KAAK,CAAC2B,OAAZ,KAAwB,IAAxB,GAA+B,KAAK,CAApC,GAAwChB,EAAE,CAACoB,IAAH,CAAQ/B,KAAR,CAA3C,GAA4D,IAAxF;MACApB,SAAS,CAAC;QACRqB;MADQ,CAAD,CAAT;MAGA,OAAOzC,eAAe,CAACI,YAAY,CAAC,KAAD,EAAQ;QACzC,MAAMqC,EADmC;QAEzC,QAAQ,UAFiC;QAGzC,SAAShB,GAAG,CAAC,OAAD,CAH6B;QAIzC,YAAY2C,IAAI,GAAG,CAAH,GAAO,CAAC,CAJiB;QAKzC,mBAAmBL;MALsB,CAAR,EAMhC,CAACU,OAAD,CANgC,CAAb,EAMP,CAAC,CAACvE,MAAD,EAASkE,IAAT,CAAD,CANO,CAAtB;IAOD,CA5CD;EA6CD;;AAjGiC,CAAD,CAAnC;AAmGA,SACE/B,aAAa,IAAI8B,OADnB"},"metadata":{},"sourceType":"module"}